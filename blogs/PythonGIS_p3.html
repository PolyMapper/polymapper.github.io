<!DOCTYPE html>
<html lang="en">

  <head>
    
    <!-- Meta Tag -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO -->
    <meta name="description" content="Portfolio and blog website">
    <meta name="author" content="Gordon McLachlan">
    <meta name="url" content="polymapper.github.io">
    <meta name="copyright" content="Gordon McLachlan">
    <meta name="robots" content="index,follow">
    
    
    <title>Gordon McLachlan - Adventures of a Geographer</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/favicon/favicon.png">
    <link rel="apple-touch-icon" sizes="144x144" type="image/x-icon" href="../images/favicon/apple-touch-icon.png">
    
    <!-- All CSS Plugins -->
    <link rel="stylesheet" type="text/css" href="../css/plugin.css">
    
    <!-- Main CSS Stylesheet -->
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    
    <!-- Google Web Fonts  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,300,500,600,700">
    
    
    <!-- HTML5 shiv and Respond.js support IE8 or Older for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    

  </head>

 <body>

	
     
	 <!-- Preloader Start -->
     <div class="preloader">
	   <div class="rounder"></div>
      </div>
      <!-- Preloader End -->
      
      
    
    
    <div id="main">
        <div class="container">
            <div class="row">
            	
               
                 
                 <!-- About Me (Left Sidebar) Start -->
                 <div class="col-md-3 col-lg-4">
                   <div class="about-fixed">
                    
                     <div class="my-pic">
                        <img src="../images/pic/profile-pic-bigger.jpg" alt="">
                        <a href="javascript:void(0)" class="collapsed" data-target="#menu" data-toggle="collapse"><i class="icon-menu menu"></i></a>
                         <div id="menu" class="collapse">
                           <ul class="menu-link">
                               <li><a href="../about.html">About</a></li>
                               <li><a href="../index.html">Blog</a></li>
							   <li><a href="../work.html">Portfolio</a></li>
                               <li><a href="../contact.html">Contact</a></li>
                            </ul>
                         </div>
                        </div>
                      
                      
                      
                      <div class="my-detail">
                    	
                        <div class="white-spacing">
                            <h1>Gordon McLachlan</h1>
                            <span>GIS Consultant</span>
                        </div> 
                       
                       <ul class="social-icon">
                         <li><a href="https://twitter.com/timorous_beasty" target="_blank" class="twitter"><i class="fa fa-twitter"></i></a></li>
                         <li><a href="https://www.linkedin.com/in/gordon-mclachlan-1b7a6355/" target="_blank" class="linkedin"><i class="fa fa-linkedin"></i></a></li>
                        </ul>

                    </div>
                  </div>
                </div>
                <!-- About Me (Left Sidebar) End -->
                
                
                
                
                 
                 <!-- Blog Post (Right Sidebar) Start -->
                 <div class="col-md-9 col-lg-8">
                    <div class="col-md-12 page-body">
                    	<div class="row">
                    		
                            
                            <div class="sub-title">
                           		<a href="../index.html" title="Go to Home Page"><h2>Back Home</h2></a>
                                <a href="#comment" class="smoth-scroll"><i class="icon-bubbles"></i></a>
                             </div>
                            
                            
                            <div class="col-md-12 content-page">
                              <div class="col-md-12 blog-post">
                            	
                                
                                <!-- Post Headline Start -->
                                <div class="post-title">
                                    <h1>Utilising GIS functions within Python – Part 3 – Geocoding With Geopanda</h1> 
                                   </div>
                                   <!-- Post Headline End -->
                                    
                                    
                                <!-- Post Detail Start -->
                                <div class="post-info">
                                    <span>March 2, 2024 by <a href="#" target="_blank">Gordon McLachlan</a></span>
                                   </div>
                                   <!-- Post Detail End -->
                                    
                                    
                                    <p>The aim of this GIS python tutorial is Goeocoding, which is a very common GIS task. There are a number of Python libraries that make this possible. The one that  will focus on here is geopy. Geopy uses a number of third-party geocoders to do this, however some require API access keys, for example Bing and Google require them.</p>
                                    
                                  <div class="post-title">
                                    <h2>Geocoding in geopandas</h2> 
                                  </div>  
								  
                                    <p>To start with I obtained 35 random addresses from <a href="https://www.doogal.co.uk/RandomAddresses.php"></a></p>
								  
                                    <p>I then created a text file with the random addresses, and then read in this file.</p>			
								  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# Import necessary modules
										import pandas as pd
										import geopandas as gpd
										from shapely.geometry import Point
										
										# Filepath
										fp = r"D:/MyLoc/Python GIS/Addresses.txt"
										
										# Read the data
										data = pd.read_csv(fp, sep=';')
										
										# Looking at the data
										print(data.head())
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->
								  
								  
                                  <p>We then want to start geocoding</p>									  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# Now we can start to geocode.
										# Import the geocoding tool
										from geopandas.tools import geocode
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->								  
                                  <p>We then want to start geocoding</p>								  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# Now we can start to geocode.
										# Import the geocoding tool
										from geopandas.tools import geocode
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->									  
                                  <p>We geocoding I used a google access API that allows for 2500 requests per hour.</p>								  
                                  <p>I have blanked the Code out.</p>																  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# Notice: I have blocked this out, you will need to get your own key
										key = XXX-API-KEY'
										
										# Geocode addresses
										geo = geocode(data['address'], api_key=key)
										
										# lets look at the top two
										print(geo.head(2))
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->										  
                                  <p>We then need to join back on our original table to get the IDs, and any other data we may have</p>	
								  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# Then we need to join this back into our original table
										# Join tables by using a key column 'address'
										join = geo.merge(data, on='address')
										print(join.head())
										
										# to check the data type
										print(type(join))
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->									  
								  
                                  <p>Finally, we can export this data as a shape file</p>									  
								  
                                  <!-- Post Coding (SyntaxHighlighter) Start -->
                                  <div class="margin-top-40 margin-bottom-40">  
                                   <pre class="brush: js">
										# we can then export
										# Output file path
										outfp = r"D:/MyLoc/Python GIS/addresses.shp"
										
										# Save to Shapefile
										join.to_file(outfp)
                                  </pre>
                                 </div>
                                 <!-- Post Coding (SyntaxHighlighter) End -->									  
                                  <p>In the next tutorial I will look at using this data, projecting it, doing some intersects and Point in polygons. Until then….</p>									  
								  
								  
								  
                                  <!-- You May Also Like Start -->
                                  <div class="you-may-also-like margin-top-50 margin-bottom-50">
                                    <h3>You may also like</h3>
                                     <div class="row">
                                 
                                    <div class="col-md-4 col-sm-6 col-xs-12">
                                      <a href="../PythonGIS_p1.html"><p>Utilising GIS functions within Python – Part 1 – Creating and using basic geometry</p></a>
                                     </div>
                    
                                    <div class="col-md-4 col-sm-6 col-xs-12">
                                      <a href="../PythonGIS_p2.html"><p>Utilising GIS functions within Python – Part 2 – Reading and Manipulating spatial data with Geopandas</p></a>
                                     </div>
                    
                                    <div class="col-md-4 col-sm-6 col-xs-12">
                                      <a href="../single.html"><p>Limitations of using Census datasets with Location-Allocation models</p></a>
                                     </div>
                                    
                                    </div>
                                  </div>
                                  <!-- You May Also Like End -->
                                    
                                   

                                </div>    
                             </div>
                              
                         </div>
                           
                           
                         </div>
                     
                     
                       
                       <!-- Footer Start -->
                       <div class="col-md-12 page-body margin-top-50 footer">
                          <footer>
                          <ul class="menu-link">
                               <li><a href="../index.html">Home</a></li>
							   <li><a href="../about.html">About</a></li>
                               <li><a href="../index.html">Blog</a></li>
                               <li><a href="../work.html">Portfolio</a></li>
                               <li><a href="../contact.html">Contact</a></li>
                            </ul>
                            
                          <p>© Copyright 2025 Gordon McLachlan. All rights reserved</p>
						  
						  

                           
                         </footer>
                       </div>
                       <!-- Footer End -->
                     
                     
                  </div>
                  <!-- Blog Post (Right Sidebar) End -->
                
            </div>
         </div>
      </div>
    
    
    
     
      
    
    
    
    <!-- Back to Top Start -->
    <a href="#" class="scroll-to-top"><i class="fa fa-long-arrow-up"></i></a>
    <!-- Back to Top End -->
    
    
    <!-- All Javascript Plugins  -->
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/plugin.js"></script>
    
    <!-- Main Javascript File  -->
    <script type="text/javascript" src="../js/scripts.js"></script>
    
    <!-- Syntax Highlighter Javascript File  -->
    <script type="text/javascript" src="../js/syntax/shCore.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushCss.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushJScript.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPerl.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPhp.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPlain.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushPython.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushRuby.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushSql.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushVb.js"></script>
    <script type="text/javascript" src="../js/syntax/shBrushXml.js"></script>
    
	<!-- Syntax Highlighter Call Function -->
	<script type="text/javascript">
		SyntaxHighlighter.config.clipboardSwf = '../js/syntax/clipboard.swf';
		SyntaxHighlighter.all();
	</script>

    
   </body>
 </html>
